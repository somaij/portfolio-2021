{"componentChunkName":"component---src-components-templates-blog-post-js","path":"/blog/how-to-do-floating-labels-for-cf7/","result":{"data":{"markdownRemark":{"fields":{"slug":"/how-to-do-floating-labels-for-cf7/"},"html":"<p>Everybody knows why floating labels are great, right? But here's a refresher link from CSS Tricks just in case you don't:</p>\n<p><a href=\"https://css-tricks.com/float-labels-css/\">https://css-tricks.com/float-labels-css/</a></p>\n<h2>What's the issue, tissue?</h2>\n<p>One day, I decided to try out this new shiny floating label thing on Contact Form 7. I went into inspect mode, and found out when the form renders, it wraps every input in a span element. Furthermore, with the class \"wpcf7-form-control-wrap\", regardless of what kind of input it is. </p>\n<p>For example:</p>\n<pre><code>&#x3C;div class=\"text-wrapper\">&#x3C;label for=\"first_name\">First Name&#x3C;/label>\n[text fname id:first_name]\n&#x3C;/div>\n</code></pre>\n<p>renders as:</p>\n<pre><code>&#x3C;div class=\"text-wrapper\">&#x3C;label for=\"first_name\">First Name&#x3C;/label>\n&#x3C;span class=\"wpcf7-form-control-wrap fname\">\n&#x3C;input type=\"text\" name=\"fname\" value=\"\" size=\"40\" \nclass=\"wpcf7-form-control wpcf7-text\" id=\"first_name\" aria-invalid=\"false\">\n&#x3C;/span>\n&#x3C;/div>\n</code></pre>\n<p>\"So what? It's just an extra span element\" I thought. I could still select it with:</p>\n<pre><code>.wpcf7 .text-wrapper input:focus\n</code></pre>\n<p>But, I soon found out it throws a wrench into using the adjacent sibling selector:</p>\n<pre><code>input:focus + label\n</code></pre>\n<p> because you can't combine parent selectors with sibling selectors.</p>\n<h2>jQuery to the rescue!</h2>\n<p>Using Google-Fu, I came up with an easy solution. Since in jQuery you can do a parent's sibling selection, all I did was apply the class \"move\" to the label if the input's value is greater than 0, and it updates on input focus.</p>\n<pre><code>jQuery(document).ready(function($) { //no conflict\n  \n  //On input focus move the label\n  $(\"input, textarea\").focus(function() { \n        $(this).parent().siblings(\"label\").addClass(\"move\");\n  });\n  \n  //On focusout check if there is a value, else remove the .move class.\n  $(\"input, textarea\").focusout(function() { \n    if ($(this).val().length == 0) {\n        $(this).parent().siblings(\"label\").removeClass(\"move\");\n    }\n  });\n  \n  //If the user clicks on the label itself, activate the corresponding input.\n  var labelID; \n  $('label').click(function () {\n    labelID = $(this).attr('for');\n    $('#' + labelID).trigger('click');\n  });\n  \n  //In case there is a prefill value\n  $(\"input, textarea\").each(function() {\n      if ($(this).val().length != 0) { \n          $(this).parent().siblings(\"label\").addClass(\"move\");\n      } \n      else {\n          $(this).parent().siblings(\"label\").removeClass(\"move\");\n      }\n  });\n  \n});\n</code></pre>\n<p>Add a little bit of CSS and you're all set:</p>\n<pre><code>.wpcf7 .text-wrapper input[type=text]{\n  -webkit-box-sizing: content-box; \n  box-sizing: content-box;\n  padding: 0.8rem 0.4rem 0.4rem;\n}\n\n.wpcf7 .text-wrapper > label {\n  position: absolute;\n  top: 1rem;\n  left: 30px;\n  transition: all .1s ease-in-out;\n  z-index: 1;\n}\n\n.wpcf7 .text-wrapper > label.move {\n  opacity: .4;\n  font-size: 10px;\n  top: 10px;\n  left: 30px;\n}\n</code></pre>\n<p>Now you'll have some great form UX that will be sure to please the eye!</p>\n<p><a href=\"https://burst.shopify.com/@ndekhors?utm_campaign=photo_credit&#x26;utm_content=Free+Stock+Photo+of+Mobile+Contact+Us+Form+%E2%80%94+HD+Images&#x26;utm_medium=referral&#x26;utm_source=credit\">Photo by Nicole De Khors</a></p>","frontmatter":{"title":"How to do floating labels for CF7","description":"If you have a large Contact Form 7 form, this is a great way to unclutter your page.","date":"January 24, 2019","image":{"publicURL":"/static/d5b7cb9a419f7bae1accfd00bcb0c103/mobile-contact-us-form.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAF8mmLiEr//xAAYEAEBAQEBAAAAAAAAAAAAAAABAAIRMf/aAAgBAQABBQIemNrdJ8GNN//EABURAQEAAAAAAAAAAAAAAAAAAAAh/9oACAEDAQE/AUf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8BjK//xAAWEAADAAAAAAAAAAAAAAAAAAAAICH/2gAIAQEABj8CKv8A/8QAGBABAQEBAQAAAAAAAAAAAAAAAQAhEXH/2gAIAQEAAT8hSGEITD4y5Cnmq2jb/9oADAMBAAIAAwAAABBcH//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QaylH/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAFRYf/aAAgBAgEBPxCic3//xAAbEAEAAwEBAQEAAAAAAAAAAAABABEhMWFBwf/aAAgBAQABPxC+HQ2+Q+BRSX+xbu+kxXNMyMb62OBv1iD0n//Z","width":1600,"height":1067,"src":"/static/d5b7cb9a419f7bae1accfd00bcb0c103/0e329/mobile-contact-us-form.jpg","srcSet":"/static/d5b7cb9a419f7bae1accfd00bcb0c103/0e329/mobile-contact-us-form.jpg 1x"}}},"seo":{"seoTitle":"How to do Contact Form 7 Floating Labels | Jason Somai","seoDescription":"The floating label has been around for some time now, but it's tricky to do in CF7. Follow this tutorial and modernize your form's UX."},"cta":{"ctaTitle":"Still need a helping hand?","ctaText":"Send me an email and I'll hopefully be able to point you in the right direction.","ctaBtn":"Shoot a Message"}}}},"pageContext":{"slug":"/how-to-do-floating-labels-for-cf7/"}},"staticQueryHashes":["3649515864"]}